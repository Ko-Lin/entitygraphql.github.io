{"componentChunkName":"component---src-templates-docs-js","path":"/schema-creation/02-fields","result":{"data":{"site":{"siteMetadata":{"title":"Entity GraphQL Docs","docsLocation":"https://github.com/lukemurray/EntityGraphQL/tree/master/docs/content"}},"mdx":{"fields":{"id":"83a1653e-e019-5e8e-b43f-5a3cc50bdcd1","title":"Field Arguments","slug":"/schema-creation/02-fields"},"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Field Arguments\",\n  \"metaTitle\": \"Adding arguments to your GraphQL fields - EntityGraphQL\",\n  \"metaDescription\": \"Add arguments to your GraphQL fields\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"GraphQL supports \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://graphql.org/learn/queries/#arguments\"\n  }, \"arguments\"), \" on query fields. We saw this already with the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SchemaBuilder.FromObject()\"), \" helper method. It created a field with an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"id\"), \" argument to select a single item by id. Of course you can create fields with your own arguments to expand the functionality of you GraphQL APi.\"), mdx(\"h1\", null, \"Adding a field with an argument\"), mdx(\"p\", null, \"Arguments are defined using an anonymous object type when defining the field. Let's build the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"id\"), \" example ourselves.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"var schema = new SchemaProvider<DemoContext>();\\nschema.AddType<Person>(\\\"Person\\\", \\\"Information about a person);\\n\\n// add our root-level query field with an argument\\nschema.AddField(\\n    \\\"person\\\",\\n    new {\\n        id = ArgumentHelper.Required<int>()\\n    },\\n    (ctx, args) => ctx.People.FirstOrDefault(p => p.Id == args.id),\\n    \\\"Fetch person by ID\\\"\\n);\\n\")), mdx(\"p\", null, \"Let's break this down.\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Each property of the anonymous object will be an argument on the GraphQL field. In this case we have 1 argument named \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"id\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"ArgumentHelper.Required<T>()\"), \" lets EntityGraphQL know that the argument is required and will error if it is not supplied in the query\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The field resolve expression now has 2 parameters, the original context and the anonymous object type which at execution time will contain the argument values\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"We use the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"args.id\"), \" to filter the list of people to a single person that will be returned\")), mdx(\"p\", null, \"It is worth noting that the GraphQL name of the argument will be that of the property on the anonymous type. In GraphQL arguments typically start with lower case hence we use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"id\"), \". If you used \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Id\"), \" the argument in the GraphQL schema will need to be \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Id\"), \" (GraphQL is case sensitive).\"), mdx(\"h1\", null, \"Required arguments\"), mdx(\"p\", null, \"As you see above to make an argument required use the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ArgumentHelper.Required<T>()\"), \" method.\"), mdx(\"h1\", null, \"Optional arguments\"), mdx(\"p\", null, \"If you want the argument to be optional just set the field to a typed null value.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"schema.AddField(\\n    \\\"people\\\",\\n    new {\\n        firstName = (string)null\\n    },\\n    (ctx, args) => !string.IsNullOrEmpty(args.firstName) ? ctx.People.Where(p => p.FirstName == args.firstName) : ctx.People,\\n    \\\"List of people optionally filtered by a first name\\\"\\n);\\n\")), mdx(\"p\", null, \"If the argument is not supplied with a value in the query \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"args.firstName\"), \" will be null. We can use that to optionally filter the data.\"), mdx(\"h1\", null, \"Default values\"), mdx(\"p\", null, \"In GraphQL field arguments can have default values. In EntityGraphQL you just set the default value in the anonymous object create. If fact that is what we did above with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"null\"), \".\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"schema.AddField(\\n    \\\"people\\\",\\n    new {\\n        deleted = false // default value\\n    },\\n    (ctx, args) => ctx.People.Where(p => p.IsDeleted == args.deleted),\\n    \\\"List all active people. Optional list all deleted people\\\"\\n);\\n\")), mdx(\"h1\", null, \"Helper methods\"), mdx(\"h2\", null, \"WhereWhen()\"), mdx(\"p\", null, \"The conditional statement we saw above - \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"!string.IsNullOrEmpty(args.firstName) ? ctx.People.Where(p => p.FirstName == args.firstName) : ctx.People\"), \" - can start to get messy when you have multiple optional arguments. It is common to have multiple arguments on fields that return a list of items to filter for different uses. To aid this EntityGraphQL has a helper method \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"WhereWhen()\"), \" that only applies a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Where()\"), \" method if a given statement returns \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"true\"), \".\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"schema.AddField(\\n    \\\"people\\\",\\n    new {\\n        // multiple optional arguments\\n        firstName = (string)null,\\n        lastName = (string)null\\n    },\\n    (ctx, args) => ctx.People\\n        .WhereWhen(p => p.FistName == args.firstName, !string.IsNullOrEmpty(args.firstName))\\n        .WhereWhen(p => p.LastName == args.lastName, !string.IsNullOrEmpty(args.lastName)),\\n    \\\"List of people optionally filtered by a first and/or last name\\\"\\n);\\n\")), mdx(\"h2\", null, \"Take(int?)\"), mdx(\"p\", null, \"Only apply the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Take()\"), \" method if the argument has a value.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"schema.AddField(\\\"Field\\\", new { limit = (int?)null }, (db, p) => db.Entity.Take(p.limit), \\\"description\\\");\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","tableOfContents":{"items":[{"url":"#adding-a-field-with-an-argument","title":"Adding a field with an argument"},{"url":"#required-arguments","title":"Required arguments"},{"url":"#optional-arguments","title":"Optional arguments"},{"url":"#default-values","title":"Default values"},{"url":"#helper-methods","title":"Helper methods","items":[{"url":"#wherewhen","title":"WhereWhen()"},{"url":"#takeint","title":"Take(int?)"}]}]},"parent":{"relativePath":"schema-creation/02-fields.md"},"frontmatter":{"metaTitle":"Adding arguments to your GraphQL fields - EntityGraphQL","metaDescription":"Add arguments to your GraphQL fields"}},"allMdx":{"edges":[{"node":{"fields":{"slug":"/authorization","title":"Authorization"}}},{"node":{"fields":{"slug":"/","title":"Entity GraphQL"}}},{"node":{"fields":{"slug":"/entity-framework","title":"Entity Framework"}}},{"node":{"fields":{"slug":"/getting-started","title":"Getting Started"}}},{"node":{"fields":{"slug":"/integration","title":"Integration"}}},{"node":{"fields":{"slug":"/schema-creation/01-mutations","title":"Mutations"}}},{"node":{"fields":{"slug":"/paging","title":"Paging"}}},{"node":{"fields":{"slug":"/schema-creation","title":"Schema Creation"}}},{"node":{"fields":{"slug":"/introduction","title":"Introduction"}}},{"node":{"fields":{"slug":"/schema-creation/02-fields","title":"Field Arguments"}}},{"node":{"fields":{"slug":"/schema-creation/04-directives","title":"Directives"}}},{"node":{"fields":{"slug":"/schema-creation/05-other-data-sources","title":"Other Data Sources"}}},{"node":{"fields":{"slug":"/schema-creation/03-types","title":"Other Types"}}},{"node":{"fields":{"slug":"/schema-creation/06-naming","title":"Note on Naming"}}}]}},"pageContext":{"id":"83a1653e-e019-5e8e-b43f-5a3cc50bdcd1"}},"staticQueryHashes":["2619113677","3706406642","417421954"]}